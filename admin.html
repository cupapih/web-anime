<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<script src="storage.js"></script>
<script>
if(!isAdmin()) location.href='login.html';
</script>
<style>
body{background:#0f0f0f;color:white;font-family:Arial;padding:24px}
select,input,button{padding:10px;margin:6px 0;width:100%}
button{background:#22c55e;border:none;color:white}
.box{background:#18181b;padding:16px;border-radius:8px;margin-bottom:20px}
</style>
</head>
<body>

<h2>Admin Panel</h2>
<button onclick="logoutAdmin();location.href='login.html'">Logout</button>

<div class="box">
  <h3>Tambah Episode</h3>
  <select id="anime"></select>
  <input id="ep" type="number" placeholder="Episode ke-">
  <input id="video" placeholder="URL .m3u8">
  <button onclick="addEp()">Tambah Episode</button>
</div>

<script>
const animeSel = document.getElementById('anime');
const db = getDB();

db.forEach((a,i)=>{
  animeSel.innerHTML += `<option value="${i}">${a.title}</option>`;
});

function addEp(){
  addEpisode(animeSel.value,{
    number: ep.value,
    video: video.value
  });
  alert('Episode ditambahkan');
}
</script>

</body>
</html>
